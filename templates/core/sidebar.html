{% load static %}

<nav class="sidebar">
  <!-- 로고 영역 -->
  <div class="sidebar-header">
    <div class="sidebar-logo">
      <img
        src="{% static 'img/logo.png' %}"
        alt="말하는대로"
        class="sidebar-logo-image"
      />
    </div>
  </div>

  <!-- 상단 메뉴 (홈 / 새 회의) -->
  <div class="sidebar-section">
    <ul class="sidebar-menu">
      <!-- 홈 -->
      <li class="sidebar-item {% if request.resolver_match.app_name == 'core' and request.resolver_match.url_name == 'home' %}sidebar-item-active{% endif %}">
        <a href="{% url 'core:home' %}" class="sidebar-link">
          <img
            src="{% static 'img/icon-home.png' %}"
            alt=""
            class="sidebar-icon"
          />
          <span class="sidebar-link-text">홈</span>
        </a>
      </li>

      <!-- 새 회의 -->
      <li class="sidebar-item {% if request.resolver_match.namespace == 'meetings' and request.resolver_match.url_name == 'create' %}sidebar-item-active{% endif %}">
        <a href="{% url 'meetings:meeting_create' %}" class="sidebar-link">
            <img
            src="{% static 'img/icon-new-meeting.png' %}"
            alt=""
            class="sidebar-icon"
            />
          <span class="sidebar-link-text">새 회의</span>
        </a>
      </li>
    </ul>
  </div>

  <!-- 회의 목록 (접힘/펼침) -->
  <div class="sidebar-section">
    <button type="button" class="sidebar-collapse">
      <div class="sidebar-collapse-left">
        <img
          src="{% static 'img/icon-meeting-list.png' %}"
          alt=""
          class="sidebar-icon"
        />
        <span class="sidebar-section-title">회의 목록</span>
      </div>
      <span class="sidebar-collapse-icon">▼</span>
    </button>

    <ul class="sidebar-menu sidebar-menu-nested">
      <li class="sidebar-item {% if request.resolver_match.app_name == 'meetings' and request.resolver_match.url_name == 'list_all' %}sidebar-item-active{% endif %}">
        <a href="{% url 'meetings:list_all' %}" class="sidebar-link">
          <span class="sidebar-link-text">전체 회의 목록</span>
        </a>
      </li>

      <li class="sidebar-item {% if request.resolver_match.app_name == 'meetings' and request.resolver_match.url_name == 'list_mine' %}sidebar-item-active{% endif %}">
        <a href="{% url 'meetings:list_mine' %}" class="sidebar-link">
          <span class="sidebar-link-text">내가 참여한 회의</span>
        </a>
      </li>

      <li class="sidebar-item {% if request.resolver_match.app_name == 'meetings' and request.resolver_match.url_name == 'list_open' %}sidebar-item-active{% endif %}">
        <a href="{% url 'meetings:list_open' %}" class="sidebar-link">
          <span class="sidebar-link-text">열람 가능한 회의</span>
        </a>
      </li>
    </ul>
  </div>

  <!-- 오늘의 회의 -->
  <div class="sidebar-section">
    <p class="sidebar-section-title">오늘의 회의</p>

    <div class="sidebar-meeting-list">
      <a href="#" class="meeting-card">
        <div class="meeting-card-icon">
          <img
            src="{% static 'img/icon-mic.png' %}"
            alt=""
            class="meeting-icon-image"
          />
        </div>
        <div class="meeting-card-body">
          <p class="meeting-card-title">
            데이터 처리와 아키텍처 재설계 회의
          </p>
          <p class="meeting-card-meta">2025.12.18 13:00</p>
        </div>
      </a>

      <a href="#" class="meeting-card">
        <div class="meeting-card-icon">
          <img
            src="{% static 'img/icon-mic.png' %}"
            alt=""
            class="meeting-icon-image"
          />
        </div>
        <div class="meeting-card-body">
          <p class="meeting-card-title">
            연말 운영 계획 및 예산 조정 회의
          </p>
          <p class="meeting-card-meta">2025.12.18 09:00</p>
        </div>
      </a>
    </div>
  </div>

  <!-- 하단 링크 -->
  <div class="sidebar-footer">
    <ul class="sidebar-menu">
      <li class="sidebar-item">
        <a href="{% url 'core:admin_home' %}" class="sidebar-link sidebar-link-footer">
          <span class="sidebar-link-text">관리자 홈</span>
        </a>
      </li>
      <li class="sidebar-item">
        <a href="{% url 'accounts:logout' %}" class="sidebar-link sidebar-link-footer">
          <span class="sidebar-link-text">로그아웃</span>
        </a>
      </li>
      <li class="sidebar-item">
        <a href="#" id="modify-pw-link" class="sidebar-link sidebar-link-footer">
          <span class="sidebar-link-text">비밀번호 변경</span>
        </a>
      </li>
    </ul>
  </div>
</nav>

