{% extends "core/base.html" %}
{% load static %}

{% block title %}관리자 홈{% endblock %}

{% block sidebar %}
  {% include "core/admin_sidebar.html" %}
{% endblock %}

{% block content %}
<div class="admin-layout">

  {# 상단 타이틀 영역: "관리자 홈" #}
  <header class="admin-header">
    <h1 class="admin-header-title">관리자 홈</h1>
  </header>

  <div class="admin-body">

    {# ================== 가운데: 직원 목록 테이블 ================== #}
    <section class="admin-panel admin-panel-left">
      <div class="admin-table-card">
        <table class="admin-table" id="admin-member-table">
          <thead>
            <tr>
              <th class="col-no">번호</th>
              <th class="col-name">성명</th>
              <th class="col-id">ID</th>
              <th class="col-dept">부서</th>
              <th class="col-birth">생년월일</th>
            </tr>
          </thead>
          <tbody>
            {% for emp in employees %}
              <tr
                class="admin-member-row"
                data-dept-id="{{ emp.dept.id }}"
              >
                <td>{{ forloop.counter }}</td>
                <td>{{ emp.name }}</td>
                <td>{{ emp.user_id }}</td>
                <td>{{ emp.dept.dept_name }}</td>
                <td>{{ emp.birthdate|date:"Y.m.d" }}</td>
              </tr>
            {% empty %}
              <tr>
                <td colspan="5" class="admin-table-empty">
                  현재 표시할 데이터가 없습니다.
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      {# 테이블 하단 "추가" 버튼 #}
      <div class="admin-table-actions">
        <button type="button" class="btn-admin-add" id="btn-admin-add">
          추가
        </button>
      </div>
    </section>

    {# ================== 오른쪽: 직원 상세 / 등록 폼 ================== #}
    <section class="admin-panel admin-panel-right">
      <form id="admin-employee-form" class="admin-form">
        {# 아이콘 영역(왼쪽 상단 작은 사각형 아이콘) #}
        <div class="admin-form-icon-box">
          <span class="admin-form-icon">▢</span>
        </div>

        <div class="admin-form-field-group">
          <div class="admin-form-field">
            <label for="emp-name" class="admin-form-label">이름</label>
            <input
              type="text"
              id="emp-name"
              name="name"
              class="admin-form-input"
              placeholder="이름을 입력해 주세요"
            />
          </div>

          <div class="admin-form-field">
            <label for="emp-id" class="admin-form-label">ID</label>
            <input
              type="text"
              id="emp-id"
              name="user_id"
              class="admin-form-input"
              placeholder="사번 또는 ID를 입력해 주세요"
            />
          </div>

          <div class="admin-form-field">
            <label for="emp-birth" class="admin-form-label">생년월일</label>
            <input
              type="text"
              id="emp-birth"
              name="birthdate"
              class="admin-form-input"
              placeholder="YYYY.MM.DD"
            />
          </div>

          <div class="admin-form-field">
            <label for="emp-dept" class="admin-form-label">부서</label>
            <input
              type="text"
              id="emp-dept"
              name="dept"
              class="admin-form-input"
              placeholder="IT본부 - 개발부서"
              readonly
            />
          </div>

          <div class="admin-form-field">
            <label for="emp-role" class="admin-form-label">업무</label>
            <input
              type="text"
              id="emp-role"
              name="role"
              class="admin-form-input"
              placeholder="업무를 입력해 주세요"
            />
          </div>
        </div>

        {# 폼 버튼 영역: 등록 / 취소 #}
        <div class="admin-form-actions">
          <button type="submit" class="btn-admin-primary">
            등록
          </button>
          <button type="button" class="btn-admin-secondary" id="btn-admin-cancel">
            취소
          </button>
        </div>
      </form>
    </section>
  </div>
</div>
{% endblock %}

{% block extra_script %}
  <script src="{% static 'js/admin_home.js' %}"></script>
{% endblock %}