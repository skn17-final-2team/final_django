{% extends "core/base.html" %}
{% load static %}

{% block title %}í™ˆ{% endblock %}
{% block page_title %}í™ˆ{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static 'css/home.css' %}">
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="dashboard">
  <!-- ì™¼ìª½ ë©”ì¸ ì˜ì—­ -->
  <section class="dashboard-main">
    <header class="dashboard-header">
      <div class="dashboard-header-left">
        <span class="icon">ğŸ“…</span>
        <span id="home-current-date">2025ë…„ 12ì›” 18ì¼ ëª©</span>
      </div>
      <button type="button" class="btn-add-schedule">+ ì¼ì • ì¶”ê°€</button>
    </header>

    <div class="calendar-card">
      <div class="calendar-wrapper">
        <!-- ì—¬ê¸° divì— FullCalendarê°€ ë Œë”ë§ë©ë‹ˆë‹¤ -->
        <div id="home-calendar"></div>
      </div>
    </div>
  </section>

  <!-- ì˜¤ë¥¸ìª½ ì¼ì • ì˜ì—­ -->
  <aside class="dashboard-side">
    <section class="schedule-card">
      <h2 class="schedule-card-title">ì˜¤ëŠ˜ì˜ ì¼ì •</h2>
      <div class="schedule-empty">ì˜¤ëŠ˜ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</div>
    </section>

    <section class="schedule-card">
      <h2 class="schedule-card-title">ì´ë²ˆ ë‹¬ ì¼ì •</h2>
      <ul class="schedule-list">
        <li class="schedule-item">
          <span class="schedule-date">18(ê¸ˆ)</span>
          <span class="schedule-text">
            ì‹¤ì‹œê°„/ë°°ì¹˜ íŒŒì´í”„ë¼ì¸ ë¶„ë¦¬ ë° ì¸ì¦ ë¡œê·¸ ì²˜ë¦¬ ë°©ì•ˆ ê²€í† 
          </span>
        </li>
      </ul>
    </section>
  </aside>
</div>
{% endblock %}

{% block extra_script %}
  <!-- FullCalendar JS -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.js"></script>

  <!-- í™ˆ í™”ë©´ìš© ìº˜ë¦°ë” ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ (ìš°ì„  inlineìœ¼ë¡œ) -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var calendarEl = document.getElementById("home-calendar");
      if (!calendarEl) {
        console.error("home-calendar ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        return;
      }

      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: "dayGridMonth",
        locale: "ko",            // í•œêµ­ì–´
        height: "auto",
        contentHeight: 360,
        headerToolbar: {
          left: "prev,next today",
          center: "title",
          right: ""
        },
        events: [
          {
            title: "ì‹¤ì‹œê°„/ë°°ì¹˜ íŒŒì´í”„ë¼ì¸ ë¶„ë¦¬ ë° ì¸ì¦ ë¡œê·¸ ì²˜ë¦¬ ë°©ì•ˆ ê²€í† ",
            start: "2025-12-18",
            allDay: true
          },
          {
            title: "ì—°ë§ ìš´ì˜ ê³„íš ë° ì˜ˆì‚° ì¡°ì • íšŒì˜",
            start: "2025-12-18T09:00:00"
          }
        ]
      });

      calendar.render();
    });
  </script>
{% endblock %}

